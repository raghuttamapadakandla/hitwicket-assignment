<!DOCTYPE html>
<html>

<head>
    <title>Game Board</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }

        #game-board {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            grid-gap: 10px;
        }

        .cell {
            background-color: #ccc;
            padding: 20px;
            border: 1px solid #333;
            text-align: center;
        }

        .cell:hover {
            background-color: #aaa;
        }

        .piece {
            background-color: #666;
            color: #fff;
            padding: 10px;
            border-radius: 50%;
            cursor: move;
            display: inline-block;
        }

        .piece:hover {
            background-color: #888;
        }

        #drag-drop-area,
        #drag-drop-area-b {
            margin-top: 20px;
        }

        #move-history {
            margin-top: 20px;
        }

        #game-over {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #fff;
            text-align: center;
            padding-top: 20%;
        }

        .hidden {
            display: none;
        }
    </style>
</head>

<body>
    <h1 id="current-turn">Player A's Turn</h1>
    <div id="game-board">
        <div class="cell" id="cell-0-0"></div>
        <div class="cell" id="cell-0-1"></div>
        <div class="cell" id="cell-0-2"></div>
        <div class="cell" id="cell-0-3"></div>
        <div class="cell" id="cell-0-4"></div>

        <div class="cell" id="cell-1-0"></div>
        <div class="cell" id="cell-1-1"></div>
        <div class="cell" id="cell-1-2"></div>
        <div class="cell" id="cell-1-3"></div>
        <div class="cell" id="cell-1-4"></div>

        <div class="cell" id="cell-2-0"></div>
        <div class="cell" id="cell-2-1"></div>
        <div class="cell" id="cell-2-2"></div>
        <div class="cell" id="cell-2-3"></div>
        <div class="cell" id="cell-2-4"></div>

        <div class="cell" id="cell-3-0"></div>
        <div class="cell" id="cell-3-1"></div>
        <div class="cell" id="cell-3-2"></div>
        <div class="cell" id="cell-3-3"></div>
        <div class="cell" id="cell-3-4"></div>

        <div class="cell" id="cell-4-0"></div>
        <div class="cell" id="cell-4-1"></div>
        <div class="cell" id="cell-4-2"></div>
        <div class="cell" id="cell-4-3"></div>
        <div class="cell" id="cell-4-4"></div>
    </div>

    <div id="move-history">
        <h2>Move History:</h2>
        <ul id="move-list"></ul>
    </div>

    <div id="game-over">
        <h1 id="game-over-message"></h1>
        <button id="new-game-button">Start New Game</button>
    </div>

    <!-- Player A's Pieces -->
    <div id="drag-drop-area">
        <h2>Player A's Pieces:</h2>
        <div class="piece" id="A-P1" draggable="true">A-P1</div>
        <div class="piece" id="A-P2" draggable="true">A-P2</div>
        <div class="piece" id="A-P3" draggable="true">A-P3</div>
        <div class="piece" id="A-H1" draggable="true">A-H1</div>
        <div class="piece" id="A-H2" draggable="true">A-H2</div>
        <button id="submit-lineup-button">Submit Lineup</button>
    </div>

    <!-- Player B's Pieces (Initially Hidden) -->
    <div id="drag-drop-area-b" class="hidden">
        <h2>Player B's Pieces:</h2>
        <div class="piece" id="B-P1" draggable="true">B-P1</div>
        <div class="piece" id="B-P2" draggable="true">B-P2</div>
        <div class="piece" id="B-P3" draggable="true">B-P3</div>
        <div class="piece" id="B-H1" draggable="true">B-H1</div>
        <div class="piece" id="B-H2" draggable="true">B-H2</div>
        <button id="submit-lineup-button-b">Submit Lineup</button>
    </div>

    <script>
        const cells = document.querySelectorAll('.cell');
        const submitLineupButton = document.getElementById('submit-lineup-button');
        const submitLineupButtonB = document.getElementById('submit-lineup-button-b');
        const currentTurnElement = document.getElementById('current-turn');

        let currentPlayer = 'A';
        let piecesInLineup = [];

        function handleDragStart(event) {
            event.dataTransfer.setData('text/plain', event.target.id);
        }

        function handleDrop(event) {
            event.preventDefault();
            const pieceId = event.dataTransfer.getData('text/plain');
            const piece = document.getElementById(pieceId);

            // If the piece is not already placed, place it in the cell
            if (!piecesInLineup.includes(pieceId)) {
                // Clear the previous cell if the piece was already placed
                const previousCell = piece.parentElement;
                if (previousCell && previousCell.classList.contains('cell')) {
                    previousCell.innerHTML = '';
                }

                event.target.appendChild(piece);
                piecesInLineup.push(pieceId);
            }
        }

        function handleDragOver(event) {
            event.preventDefault();
        }

        // Add drag and drop functionality to pieces and cells
        function addDragDropListeners(pieces, cells) {
            pieces.forEach(piece => piece.addEventListener('dragstart', handleDragStart));
            cells.forEach(cell => {
                cell.addEventListener('dragover', handleDragOver);
                cell.addEventListener('drop', handleDrop);
            });
        }

        // Apply listeners for Player A's pieces
        addDragDropListeners(document.querySelectorAll('#drag-drop-area .piece'), cells);

        submitLineupButton.addEventListener('click', () => {
            if (piecesInLineup.length === 5) {
                currentPlayer = 'B';
                piecesInLineup = [];
                document.getElementById('drag-drop-area').classList.add('hidden');
                document.getElementById('drag-drop-area-b').classList.remove('hidden');
                currentTurnElement.textContent = "Player B's Turn";

                // Apply listeners for Player B's pieces
                addDragDropListeners(document.querySelectorAll('#drag-drop-area-b .piece'), cells);
            } else {
                alert('Please select 5 pieces for your lineup');
            }
        });

        submitLineupButtonB.addEventListener('click', () => {
            if (piecesInLineup.length === 5) {
                // Proceed to game start or other logic
                currentTurnElement.textContent = "Game Starts! Player A's Turn";
                document.getElementById('drag-drop-area-b').classList.add('hidden');
            } else {
                alert('Please select 5 pieces for your lineup');
            }
        });
    </script>
</body>

</html>